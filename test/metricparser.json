{
  "name": "Metric to influx",
  "desc": "",
  "initialState": "Started",
  "tap": {
    "class": "gate",
    "name": "/user/metrics"
  },
  "pipeline": [
    {
      "class": "log",
      "name": "",
      "level": "DEBUG",
      "logger": "original_metric",
      "simpleCondition": "",
      "condition": {}
    },
    {
      "class": "influx",
      "name": "",
      "db": "db",
      "series": "${metric.name}",
      "columns": "count,mean,m1,m5,m15",
      "points": "metric/count,metric/mean,metric/m1,metric/m5,metric/m15",
      "host": "10.31.160.100",
      "port": 6009,
      "user": "user",
      "password": "password",
      "simpleCondition": "metric.type=METER",
      "condition": {}
    },
    {
      "class": "log",
      "name": "",
      "level": "DEBUG",
      "logger": "stored to influx",
      "simpleCondition": "",
      "condition": {}
    }
  ]
}